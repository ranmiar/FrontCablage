(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{NHAA:function(t,e,i){"use strict";i.r(e),i.d(e,"ClassificationModule",function(){return Xt});var a=i("SVse"),s=i("iInd");class c{}var n=i("8Y7J"),l=i("3Dky"),o=i("PDjf"),r=i("M9ds"),d=i("CtHx"),f=i("5QHs"),h=i("LUZP"),b=i("OaSA"),p=i("s7LF"),u=i("iELJ"),g=i("zHaW"),m=i("ltgo"),C=i("VDRc"),y=i("Q2Ze"),S=i("e6WT"),T=i("Tj54");let w=(()=>{class t{constructor(t,e,i,a){this.dialogRef=t,this.router=e,this.snackbar=i,this.service=a,this.classificationtype=new c,this.classificationtypenotupdated=new c}ngOnInit(){this.title=this.classificationtype.id>0?"Update classification type":"Add classification type",this.classificationtypenotupdated=this.classificationtype,this.AddClassificationTypeForm=new p.g({designation:new p.e("",{validators:[p.t.required]})})}closepopup(){this.classificationtype=this.classificationtypenotupdated,this.service.refreshGrid.next(this.classificationtype),this.dialogRef.closeAll()}AddClassificationType(t){this.classificationtype&&this.classificationtype.id>0?(this.classificationtype.designation=t.value.designation,this.service.classificationtypetoupdate.next(this.classificationtype)):(this.classificationtype=new c,this.classificationtype.designation=t.value.designation,this.service.classificationtypetoadd.next(this.classificationtype),this.dialogRef.closeAll())}}return t.\u0275fac=function(e){return new(e||t)(n.Nb(u.b),n.Nb(s.b),n.Nb(g.a),n.Nb(l.a))},t.\u0275cmp=n.Hb({type:t,selectors:[["app-classificationtype-add"]],decls:16,vars:4,consts:[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane"],[1,"training"],["fxLayoutGap","50px",3,"formGroup","ngSubmit"],["f","ngForm"],["id","mat1"],["matInput","","placeholder","designation","autocomplete","off","formControlName","designation","required","",3,"ngModel","ngModelChange"],["pwInput",""],["color","primary","title","Save",3,"disabled"],["title","Cancel","color","warn",3,"click"]],template:function(t,e){if(1&t){const t=n.Ub();n.Tb(0,"div",0),n.Tb(1,"mat-card"),n.Tb(2,"h3"),n.Ac(3),n.Sb(),n.Tb(4,"section",1),n.Tb(5,"form",2,3),n.bc("ngSubmit",function(){n.tc(t);const i=n.rc(6);return e.AddClassificationType(i)}),n.Tb(7,"mat-form-field",4),n.Tb(8,"input",5,6),n.bc("ngModelChange",function(t){return e.classificationtype.designation=t}),n.Sb(),n.Sb(),n.Ob(10,"br"),n.Tb(11,"button",7),n.Tb(12,"mat-icon"),n.Ac(13,"save"),n.Sb(),n.Sb(),n.Tb(14,"mat-icon",8),n.bc("click",function(){return e.closepopup()}),n.Ac(15,"close"),n.Sb(),n.Sb(),n.Sb(),n.Sb(),n.Sb()}if(2&t){const t=n.rc(6);n.Cb(3),n.Bc(e.title),n.Cb(2),n.lc("formGroup",e.AddClassificationTypeForm),n.Cb(3),n.lc("ngModel",e.classificationtype.designation),n.Cb(3),n.lc("disabled",t.invalid)}},directives:[m.a,o.a,p.u,p.n,C.a,p.h,y.c,S.b,p.c,p.m,p.f,p.s,T.a],styles:[".new-training[_ngcontent-%COMP%]{padding:30px;height:200px;width:200px;display:flex}.training[_ngcontent-%COMP%]{display:flex;width:100%}mat-form-field[_ngcontent-%COMP%]{width:300px}.material-icons[_ngcontent-%COMP%]{cursor:pointer}"]}),t})();var v=i("pu8Q"),A=i("pMoy");function k(t,e){1&t&&n.Ob(0,"mat-spinner",18)}function D(t,e){if(1&t){const t=n.Ub();n.Tb(0,"th",19),n.Tb(1,"mat-checkbox",20),n.bc("change",function(e){n.tc(t);const i=n.fc();return e?i.masterToggle():null}),n.Sb(),n.Sb()}if(2&t){const t=n.fc();n.Cb(1),n.lc("checked",t.selection.hasValue()&&t.isAllSelected())("indeterminate",t.selection.hasValue()&&!t.isAllSelected())("aria-label",t.checkboxLabel())}}function O(t,e){if(1&t){const t=n.Ub();n.Tb(0,"td",21),n.Tb(1,"mat-checkbox",22),n.bc("click",function(t){return t.stopPropagation()})("change",function(i){n.tc(t);const a=e.$implicit,s=n.fc();return i?s.selection.toggle(a):null}),n.Sb(),n.Sb()}if(2&t){const t=e.$implicit,i=n.fc();n.Cb(1),n.lc("checked",i.selection.isSelected(t))("aria-label",i.checkboxLabel(t))}}function R(t,e){1&t&&(n.Tb(0,"th",23),n.Ac(1," Designation "),n.Sb())}function M(t,e){if(1&t&&(n.Tb(0,"td",21),n.Ac(1),n.Sb()),2&t){const t=e.$implicit;n.Cb(1),n.Cc(" ",t.designation," ")}}function z(t,e){1&t&&n.Ob(0,"tr",24)}function x(t,e){1&t&&n.Ob(0,"tr",25)}function F(t,e){if(1&t&&(n.Tb(0,"tr",26),n.Tb(1,"td",27),n.Ac(2),n.Sb(),n.Sb()),2&t){n.fc();const t=n.rc(7);n.Cb(2),n.Cc('No data matching the filter "',t.value,'"')}}const L=function(){return[5,10,25,100]};let _=(()=>{class t{constructor(t,e,i){this.service=t,this.dialog=e,this.snackbar=i,this.checkbox=!1,this.selection=new d.c(!0,[]),this.classificationtypes=[],this.classificationtypesbackup=[],this.displayedColumns=["select","designation"],this.manyselection=!1,this.onlyoneselection=!1,this.selectedclassificationtype=new c}ngOnInit(){this.service.getClassificationtype().subscribe(t=>{this.classificationtypes=t,this.classificationtypesbackup=t,this.dataSource=new b.l(this.classificationtypes),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort},()=>{alert("error when trying to get classification type, please retry later !")}),this.service.classificationtypetoadd.subscribe(t=>{this.classificationtypetoadd=t,this.AddClassificationType()}),this.service.classificationtypetoupdate.subscribe(t=>{this.UpdateClassificationType(t)}),this.service.refreshGrid.subscribe(t=>{this.RefreshGrid()})}ngAfterViewInit(){}isAllSelected(){return this.selection.selected.length===(this.dataSource&&this.dataSource.data?this.dataSource.data.length:0)}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource.data.forEach(t=>this.selection.select(t))}checkboxLabel(t){return t?(this.manyselection=!!(this.selection&&this.selection.select&&this.selection.selected.length>1),this.onlyoneselection=!(!this.selection||!this.selection.select||1!=this.selection.selected.length),this.selectedclassificationtype=this.selection&&this.selection.select&&1==this.selection.selected.length?this.selection.selected[0]:new c,`${this.selection.isSelected(t)?"deselect":"select"} row ${t.id+1}`):(this.isAllSelected()?"select":"deselect")+" all"}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase()}DisplayAddClassificationType(){this.dialog.open(w,{width:"1000px",disableClose:!0})}DisplayClassificationType(){this.manyselection||!this.onlyoneselection?alert("please select one item"):(this.dialogRef=this.dialog.open(w,{width:"1000px",disableClose:!0,data:{}}),this.dialogRef.componentInstance.classificationtype=this.selectedclassificationtype)}AddClassificationType(){this.service.addClassificationtype(this.classificationtypetoadd).subscribe(()=>{this.RefreshGrid(),this.snackbar.open("Classification Type was added","",{duration:1500}),this.dialogRef.close()},()=>{alert("error when adding classification type")})}UpdateClassificationType(t){let e=this.dataSource.data.findIndex(e=>e.id===t.id);this.dataSource.data.slice(e,1),this.dataSource._updateChangeSubscription(),this.service.updateClassificationtype(t.id,t).subscribe(()=>{this.snackbar.open("Classification Type was updated","",{duration:1500}),this.dialogRef.close()},()=>{alert("error on update please try later")})}DeleteClassificationType(){if(this.manyselection||this.onlyoneselection){let t=this.selection.selected.length;if(confirm("you have selected "+t+" item(s), are sure you want to delete ?")){let e="";for(let i=0;i<t;i++)e+=this.selection.selected[i].id.toString()+",";this.service.deleteClassificationtype(e).subscribe(()=>{alert(t.toString()+" item(s) deleted "),this.RefreshGrid()},()=>{alert("an error happened when delete !"),this.selection.clear()})}}else alert("please select at least one item")}RefreshGrid(){this.isLoading=!0,this.service.getClassificationtype().subscribe(t=>{this.classificationtypes=t,this.dataSource.data=t,this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.selection.clear(),this.isLoading=!1},()=>{alert("error when trying to get classification type, please retry later !")})}RefreshFrontEnd(){let t=this.dataSource.data.findIndex(t=>t.id===this.selectedclassificationtype.id);this.dataSource.data.slice(t,1),this.dataSource._updateChangeSubscription()}}return t.\u0275fac=function(e){return new(e||t)(n.Nb(l.a),n.Nb(u.b),n.Nb(g.a))},t.\u0275cmp=n.Hb({type:t,selectors:[["app-classificationtype-list"]],viewQuery:function(t,e){if(1&t&&(n.Dc(h.a,3),n.Dc(f.a,3)),2&t){let t;n.qc(t=n.cc())&&(e.sort=t.first),n.qc(t=n.cc())&&(e.paginator=t.first)}},decls:30,vars:8,consts:[[1,"mat-elevation-z8"],[1,"example-button-row"],["matInput","","placeholder","Filter",3,"keyup"],["input",""],["color","primary","title","Add Classification Type",3,"click"],["title","Update Classification Type",1,"orange-icon",3,"click"],["color","warn","title","Delete Classification Type",3,"click"],["style","margin:0 auto;",4,"ngIf"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","designation"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],[3,"length","pageSize","pageSizeOptions"],[2,"margin","0 auto"],["mat-header-cell",""],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"checked","aria-label","click","change"],["mat-header-cell","","mat-sort-header",""],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,e){1&t&&(n.Tb(0,"div",0),n.Tb(1,"div",1),n.Ac(2," \xa0\xa0\xa0 "),n.Tb(3,"mat-form-field"),n.Tb(4,"mat-label"),n.Ac(5,"Filter"),n.Sb(),n.Tb(6,"input",2,3),n.bc("keyup",function(t){return e.applyFilter(t)}),n.Sb(),n.Sb(),n.Ac(8," \xa0\xa0\xa0\xa0\xa0 "),n.Tb(9,"mat-icon",4),n.bc("click",function(){return e.DisplayAddClassificationType()}),n.Ac(10,"add_circle"),n.Sb(),n.Ac(11," \xa0\xa0\xa0 "),n.Tb(12,"mat-icon",5),n.bc("click",function(){return e.DisplayClassificationType()}),n.Ac(13,"create"),n.Sb(),n.Ac(14," \xa0\xa0\xa0 "),n.Tb(15,"mat-icon",6),n.bc("click",function(){return e.DeleteClassificationType()}),n.Ac(16,"delete"),n.Sb(),n.Sb(),n.Tb(17,"div"),n.zc(18,k,1,0,"mat-spinner",7),n.Sb(),n.Tb(19,"table",8),n.Rb(20,9),n.zc(21,D,2,3,"th",10),n.zc(22,O,2,2,"td",11),n.Qb(),n.Rb(23,12),n.zc(24,R,2,0,"th",13),n.zc(25,M,2,1,"td",11),n.Qb(),n.zc(26,z,1,0,"tr",14),n.zc(27,x,1,0,"tr",15),n.zc(28,F,3,1,"tr",16),n.Sb(),n.Ob(29,"mat-paginator",17),n.Sb()),2&t&&(n.Cb(18),n.lc("ngIf",e.isLoading),n.Cb(1),n.lc("dataSource",e.dataSource),n.Cb(7),n.lc("matHeaderRowDef",e.displayedColumns),n.Cb(1),n.lc("matRowDefColumns",e.displayedColumns),n.Cb(2),n.lc("length",100)("pageSize",10)("pageSizeOptions",n.nc(7,L)))},directives:[y.c,y.f,S.b,T.a,a.l,b.k,h.a,b.c,b.e,b.b,b.g,b.j,b.h,f.a,v.b,b.d,A.a,b.a,h.b,b.f,b.i],styles:["mat-icon[_ngcontent-%COMP%]{cursor:pointer}.orange-icon[_ngcontent-%COMP%]{color:orange}.white-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:orange}.mat-table[_ngcontent-%COMP%]{width:100%}"]}),t})();var P=i("hIoP"),N=i("k9of"),I=i("ZTz/"),$=i("UhP/");function j(t,e){if(1&t&&(n.Tb(0,"mat-option",14),n.Ac(1),n.Sb()),2&t){const t=e.$implicit;n.lc("value",t.id),n.Cb(1),n.Cc(" ",t.designation," ")}}function H(t,e){if(1&t&&(n.Tb(0,"mat-option",14),n.Ac(1),n.Sb()),2&t){const t=e.$implicit;n.lc("value",t.id),n.Cb(1),n.Cc(" ",t.designation," ")}}let U=(()=>{class t{constructor(t,e,i,a){this.service_type=t,this.dialogRef=e,this.service=i,this.snackbar=a,this.classification=new P.a}ngOnInit(){this.classification.classificationTypeDto||(this.classification.classificationTypeDto=new c),this.service_type.getClassificationtype().subscribe(t=>{this.classificationstypes=t},t=>{alert("error on getting classifications types !!"),console.error(t)}),this.AddClassificationForm=new p.g({designation:new p.e("",{validators:[p.t.required]}),selectedParent:new p.e(""),types:new p.e("",{validators:[p.t.required]}),level:new p.e("")}),this.title=this.classification.id>0?"Update classification ":"Add classification ",this.classification&&this.classification.id>0&&this.service.getClassificationbytype(this.classification.classificationTypeDto.id).subscribe(t=>{this.classificationslist=t},t=>{alert("error on getting list of possible parents"),console.error(t)})}TypeChanged(t){this.classification.classificationTypeDto.id=t.value,this.service.getClassificationbytype(t.value).subscribe(t=>{this.classificationslist=t},t=>{alert("error on getting list of possible parents"),console.error(t)})}AddClassification(t){this.classification&&this.classification.id>0?this.service.classificationtoupdate.next(this.classification):(this.classification.designation=t.value.designation,this.classification.idParent=t.value.selectedParent,this.classification.level=t.value.level,this.classification.classificationTypeDto=new c,this.classification.classificationTypeDto.id=t.value.types,this.service.classificationttoadd.next(this.classification),this.dialogRef.closeAll())}closepopup(){this.dialogRef.closeAll()}}return t.\u0275fac=function(e){return new(e||t)(n.Nb(l.a),n.Nb(u.b),n.Nb(N.a),n.Nb(g.a))},t.\u0275cmp=n.Hb({type:t,selectors:[["app-classification-add"]],decls:24,vars:9,consts:[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane"],[1,"training"],["fxLayoutGap","50px",3,"formGroup","ngSubmit"],["f","ngForm"],["id","mat1"],["matInput","","placeholder","Designation","autocomplete","off","formControlName","designation","required","",3,"ngModel","ngModelChange"],["pwInput",""],["placeholder","Parent","name","selectedParent","formControlName","selectedParent",3,"ngModel","ngModelChange"],["value","","classification.idParent",""],[3,"value",4,"ngFor","ngForOf"],["placeholder","Type","name","types","formControlName","types",3,"ngModel","ngModelChange","selectionChange"],["type","number","name","level","formControlName","level","matInput","","placeholder","level",3,"ngModel","ngModelChange"],["color","primary","title","Save",3,"disabled"],["title","Cancel","color","warn",3,"click"],[3,"value"]],template:function(t,e){if(1&t){const t=n.Ub();n.Tb(0,"div",0),n.Tb(1,"h3"),n.Ac(2),n.Sb(),n.Tb(3,"section",1),n.Tb(4,"form",2,3),n.bc("ngSubmit",function(){n.tc(t);const i=n.rc(5);return e.AddClassification(i)}),n.Tb(6,"mat-form-field",4),n.Tb(7,"input",5,6),n.bc("ngModelChange",function(t){return e.classification.designation=t}),n.Sb(),n.Sb(),n.Tb(9,"mat-form-field"),n.Tb(10,"mat-select",7),n.bc("ngModelChange",function(t){return e.classification.idParent=t}),n.Ob(11,"mat-option",8),n.zc(12,j,2,2,"mat-option",9),n.Sb(),n.Sb(),n.Tb(13,"mat-form-field"),n.Tb(14,"mat-select",10),n.bc("ngModelChange",function(t){return e.classification.classificationTypeDto.id=t})("selectionChange",function(t){return e.TypeChanged(t)}),n.zc(15,H,2,2,"mat-option",9),n.Sb(),n.Sb(),n.Tb(16,"mat-form-field"),n.Tb(17,"input",11),n.bc("ngModelChange",function(t){return e.classification.level=t}),n.Sb(),n.Sb(),n.Ob(18,"br"),n.Tb(19,"button",12),n.Tb(20,"mat-icon"),n.Ac(21,"save"),n.Sb(),n.Sb(),n.Tb(22,"mat-icon",13),n.bc("click",function(){return e.closepopup()}),n.Ac(23,"close"),n.Sb(),n.Sb(),n.Sb(),n.Sb()}if(2&t){const t=n.rc(5);n.Cb(2),n.Bc(e.title),n.Cb(2),n.lc("formGroup",e.AddClassificationForm),n.Cb(3),n.lc("ngModel",e.classification.designation),n.Cb(3),n.lc("ngModel",e.classification.idParent),n.Cb(2),n.lc("ngForOf",e.classificationslist),n.Cb(2),n.lc("ngModel",e.classification.classificationTypeDto.id),n.Cb(1),n.lc("ngForOf",e.classificationstypes),n.Cb(2),n.lc("ngModel",e.classification.level),n.Cb(2),n.lc("disabled",t.invalid)}},directives:[m.a,p.u,p.n,C.a,p.h,y.c,S.b,p.c,p.m,p.f,p.s,I.a,$.m,a.k,p.q,T.a],styles:["mat-form-field[_ngcontent-%COMP%]{width:300px}.material-icons[_ngcontent-%COMP%]{cursor:pointer}"]}),t})();function G(t,e){if(1&t){const t=n.Ub();n.Tb(0,"th",13),n.Tb(1,"mat-checkbox",14),n.bc("change",function(e){n.tc(t);const i=n.fc();return e?i.masterToggle():null}),n.Sb(),n.Sb()}if(2&t){const t=n.fc();n.Cb(1),n.lc("checked",t.selection.hasValue()&&t.isAllSelected())("indeterminate",t.selection.hasValue()&&!t.isAllSelected())("aria-label",t.checkboxLabel())}}function Q(t,e){if(1&t){const t=n.Ub();n.Tb(0,"td",15),n.Tb(1,"mat-checkbox",16),n.bc("click",function(t){return t.stopPropagation()})("change",function(i){n.tc(t);const a=e.$implicit,s=n.fc();return i?s.selection.toggle(a):null}),n.Sb(),n.Sb()}if(2&t){const t=e.$implicit,i=n.fc();n.Cb(1),n.lc("checked",i.selection.isSelected(t))("aria-label",i.checkboxLabel(t))}}function q(t,e){1&t&&(n.Tb(0,"th",17),n.Ac(1," Designation "),n.Sb())}function V(t,e){if(1&t&&(n.Tb(0,"td",15),n.Ac(1),n.Sb()),2&t){const t=e.$implicit;n.Cb(1),n.Cc(" ",t.designation," ")}}function E(t,e){1&t&&(n.Tb(0,"th",17),n.Ac(1," Parent "),n.Sb())}function J(t,e){if(1&t&&(n.Tb(0,"td",15),n.Ac(1),n.Sb()),2&t){const t=e.$implicit;n.Cb(1),n.Cc(" ",t.parent_designation," ")}}function B(t,e){1&t&&(n.Tb(0,"th",17),n.Ac(1," Level "),n.Sb())}function W(t,e){if(1&t&&(n.Tb(0,"td",15),n.Ac(1),n.Sb()),2&t){const t=e.$implicit;n.Cb(1),n.Cc(" ",t.level," ")}}function Z(t,e){1&t&&(n.Tb(0,"th",17),n.Ac(1," Classification Type "),n.Sb())}function K(t,e){if(1&t&&(n.Tb(0,"td",15),n.Ac(1),n.Sb()),2&t){const t=e.$implicit;n.Cb(1),n.Cc(" ",t.classificationTypeDto.designation," ")}}function X(t,e){1&t&&n.Ob(0,"tr",18)}function Y(t,e){1&t&&n.Ob(0,"tr",19)}const tt=function(){return[5,10,25,100]};let et=(()=>{class t{constructor(t){this.dialog=t,this.displayedColumns=["select","designation","parent_designation","level","classificationType"],this.manyselection=!1,this.onlyoneselection=!1,this.selection=new d.c(!0,[]),this.classificationselected=new n.o}ngOnChanges(t){this.dataSource=new b.l(this.classifications),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.selection.clear()}ngOnInit(){this.dataSource=new b.l(this.classifications),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}isAllSelected(){return this.selection.selected.length===(this.dataSource&&this.dataSource.data?this.dataSource.data.length:0)}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource.data.forEach(t=>this.selection.select(t))}checkboxLabel(t){return t?(this.manyselection=!!(this.selection&&this.selection.select&&this.selection.selected.length>1),this.onlyoneselection=!(!this.selection||!this.selection.select||1!=this.selection.selected.length),this.selectedclassification=this.selection&&this.selection.select&&1==this.selection.selected.length?this.selection.selected[0]:new P.a,this.fillselected(),`${this.selection.isSelected(t)?"deselect":"select"} row ${t.id+1}`):(this.isAllSelected()?"select":"deselect")+" all"}DisplayAddClassification(){this.manyselection||!this.onlyoneselection?alert("please select one item"):(this.dialogRef=this.dialog.open(U,{width:"500px",height:"300px",disableClose:!0,data:{}}),this.dialogRef.componentInstance.classification=new P.a)}fillselected(){let t=this.selection.selected.length,e=[];for(let i=0;i<t;i++)e.push(this.selection.selected[i]);this.classificationselected.next(e)}}return t.\u0275fac=function(e){return new(e||t)(n.Nb(u.b))},t.\u0275cmp=n.Hb({type:t,selectors:[["app-classification-table"]],viewQuery:function(t,e){if(1&t&&(n.Dc(h.a,3),n.Dc(f.a,3)),2&t){let t;n.qc(t=n.cc())&&(e.sort=t.first),n.qc(t=n.cc())&&(e.paginator=t.first)}},inputs:{classifications:"classifications"},outputs:{classificationselected:"classificationselected"},features:[n.Ab],decls:20,vars:8,consts:[[1,"example-container","mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","designation"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","parent_designation"],["matColumnDef","level"],["matColumnDef","classificationType"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize","pageSizeOptions"],["mat-header-cell",""],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"checked","aria-label","click","change"],["mat-header-cell","","mat-sort-header",""],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(n.Tb(0,"div",0),n.Tb(1,"table",1),n.Rb(2,2),n.zc(3,G,2,3,"th",3),n.zc(4,Q,2,2,"td",4),n.Qb(),n.Rb(5,5),n.zc(6,q,2,0,"th",6),n.zc(7,V,2,1,"td",4),n.Qb(),n.Rb(8,7),n.zc(9,E,2,0,"th",6),n.zc(10,J,2,1,"td",4),n.Qb(),n.Rb(11,8),n.zc(12,B,2,0,"th",6),n.zc(13,W,2,1,"td",4),n.Qb(),n.Rb(14,9),n.zc(15,Z,2,0,"th",6),n.zc(16,K,2,1,"td",4),n.Qb(),n.zc(17,X,1,0,"tr",10),n.zc(18,Y,1,0,"tr",11),n.Sb(),n.Ob(19,"mat-paginator",12),n.Sb()),2&t&&(n.Cb(1),n.lc("dataSource",e.dataSource),n.Cb(16),n.lc("matHeaderRowDef",e.displayedColumns)("matHeaderRowDefSticky",!0),n.Cb(1),n.lc("matRowDefColumns",e.displayedColumns),n.Cb(1),n.lc("length",100)("pageSize",10)("pageSizeOptions",n.nc(7,tt)))},directives:[b.k,h.a,b.c,b.e,b.b,b.g,b.j,f.a,b.d,A.a,b.a,h.b,b.f,b.i],styles:[".mat-table[_ngcontent-%COMP%]{width:100%}.example-container[_ngcontent-%COMP%]{height:400px;overflow:auto}"]}),t})();function it(t,e){if(1&t&&(n.Tb(0,"mat-option",13),n.Ac(1),n.Sb()),2&t){const t=e.$implicit;n.lc("value",t),n.Cb(1),n.Cc(" ",t.designation," ")}}function at(t,e){1&t&&n.Ob(0,"mat-spinner",14)}let st=(()=>{class t{constructor(t,e,i,a){this.service_type=t,this.service=e,this.dialog=i,this.snackbar=a,this.checkbox=!1,this.selection=new d.c(!0,[]),this.classifications=[],this.classifications_backup=[],this.manyselection=!1,this.onlyoneselection=!1,this.selectedclassification=new P.a}ngOnInit(){this.service.getClassification().subscribe(t=>{this.classifications=t,this.classifications_backup=t},()=>{alert("error when trying to get classification, please retry later !")}),this.service_type.getClassificationtype().subscribe(t=>{this.classificationtypelist=t},()=>{alert("error when trying to get type classification, please retry later !")}),this.service.classificationttoadd.subscribe(t=>{this.AddClassification(t)}),this.service.classificationtoupdate.subscribe(t=>{this.classificationtoupdate=t,this.UpdateClassification(t)})}ngAfterViewInit(){}handleChildButtonClick(t){this.classificationsselectedchild=t&&t.length?t:[]}applyFilter(t){const e=t.target.value;let i=this.classifications_backup;this.selectedType&&(i=this.classifications_backup.filter(t=>t.classificationTypeDto.id===this.selectedType.id)),e&&(i=i.filter(t=>t.designation.toLocaleLowerCase().includes(e)||null!=t.parent_designation&&t.parent_designation.toLocaleLowerCase().includes(e)||t.classificationTypeDto.designation.toLocaleLowerCase().includes(e))),this.classifications=i.slice(0)}DisplayAddClassification(){this.dialogRef=this.dialog.open(U)}DisplayUpdateClassification(){!this.classificationsselectedchild||this.classificationsselectedchild&&this.classificationsselectedchild[1]?alert("please select one item"):(this.dialogRef=this.dialog.open(U,{width:"800px",height:"300px",disableClose:!0,data:{}}),this.dialogRef.componentInstance.classification=this.classificationsselectedchild[0])}TypeChanged(t){let e=this.classifications_backup;t&&t.value&&(e=this.classifications_backup.filter(e=>e.classificationTypeDto.id===t.value.id)),this.filter&&(e=e.filter(t=>t.designation.toLocaleLowerCase().includes(this.filter)||null!=t.parent_designation&&t.parent_designation.toLocaleLowerCase().includes(this.filter)||t.classificationTypeDto.designation.toLocaleLowerCase().includes(this.filter))),this.classifications=e.slice(0)}AddClassification(t){this.service.addClassification(t).subscribe(()=>{this.RefreshGrid(),this.snackbar.open("Classification was added","",{duration:1500})},t=>{alert("error when add classification"),console.error(t)})}RefreshGrid(){this.isLoading=!0,this.service.getClassification().subscribe(t=>{this.classifications=t,this.classifications_backup=t,this.isLoading=!1,this.filter&&(this.classifications=this.classifications.filter(t=>t.designation.toLocaleLowerCase().includes(this.filter)||null!=t.parent_designation&&t.parent_designation.toLocaleLowerCase().includes(this.filter)||t.classificationTypeDto.designation.toLocaleLowerCase().includes(this.filter))),this.selectedType&&(this.classifications=this.classifications.filter(t=>t.classificationTypeDto.id===this.selectedType.id))},()=>{alert("error when trying to get classification, please retry later !")})}UpdateClassification(t){this.service.updateClassificatione(t.id,t).subscribe(()=>{this.snackbar.open("Classification was updated","",{duration:1500}),this.RefreshGrid(),this.dialogRef.close(),this.selection.clear()},()=>{alert("error on update please try later")}),this.RefreshGrid()}DeleteClassification(){if(this.classificationsselectedchild[0]){let t=this.classificationsselectedchild.length;if(confirm("you have selected "+t+" item(s), are sure you want to delete ?")){let e="";for(let i=0;i<t;i++)e+=this.classificationsselectedchild[i].id.toString()+",";this.service.deleteClassification(e).subscribe(()=>{alert(t.toString()+" item(s) deleted "),this.RefreshGrid()},()=>{alert("an error happened when delete classification !"),this.selection.clear()})}}else alert("please select at least one item")}}return t.\u0275fac=function(e){return new(e||t)(n.Nb(l.a),n.Nb(N.a),n.Nb(u.b),n.Nb(g.a))},t.\u0275cmp=n.Hb({type:t,selectors:[["app-classification-list"]],decls:26,vars:5,consts:[[1,"mat-elevation-z8"],[1,"example-button-row"],["matInput","","autocomplete","off","placeholder","Filter",3,"ngModel","keyup","ngModelChange"],["input",""],["id","listtypes"],["matNativeControl","","placeholder","select type","ngModel","","name","selectedType",3,"ngModel","ngModelChange","selectionChange"],["value","","selected",""],[3,"value",4,"ngFor","ngForOf"],["color","primary","title","Add Classification",3,"click"],["title","Update Classification",1,"orange-icon",3,"click"],["color","warn","title","Delete Classification",3,"click"],["style","margin:0 auto;",4,"ngIf"],[3,"classifications","classificationselected"],[3,"value"],[2,"margin","0 auto"]],template:function(t,e){1&t&&(n.Tb(0,"div",0),n.Ac(1," \xa0\xa0\xa0\xa0\xa0 "),n.Tb(2,"div",1),n.Ac(3," \xa0\xa0\xa0 "),n.Tb(4,"mat-form-field"),n.Tb(5,"mat-label"),n.Ac(6,"Filter"),n.Sb(),n.Tb(7,"input",2,3),n.bc("keyup",function(t){return e.applyFilter(t)})("ngModelChange",function(t){return e.filter=t}),n.Sb(),n.Sb(),n.Ac(9," \xa0\xa0\xa0\xa0\xa0 "),n.Tb(10,"mat-form-field",4),n.Tb(11,"mat-select",5),n.bc("ngModelChange",function(t){return e.selectedType=t})("selectionChange",function(t){return e.TypeChanged(t)}),n.Ob(12,"mat-option",6),n.zc(13,it,2,2,"mat-option",7),n.Sb(),n.Sb(),n.Ac(14," \xa0\xa0\xa0\xa0\xa0 \xa0\xa0\xa0\xa0\xa0 "),n.Tb(15,"mat-icon",8),n.bc("click",function(){return e.DisplayAddClassification()}),n.Ac(16,"add_circle"),n.Sb(),n.Ac(17," \xa0\xa0\xa0 "),n.Tb(18,"mat-icon",9),n.bc("click",function(){return e.DisplayUpdateClassification()}),n.Ac(19,"create"),n.Sb(),n.Ac(20," \xa0\xa0\xa0 "),n.Tb(21,"mat-icon",10),n.bc("click",function(){return e.DeleteClassification()}),n.Ac(22,"delete"),n.Sb(),n.Sb(),n.Tb(23,"div"),n.zc(24,at,1,0,"mat-spinner",11),n.Sb(),n.Tb(25,"app-classification-table",12),n.bc("classificationselected",function(t){return e.handleChildButtonClick(t)}),n.Sb(),n.Sb()),2&t&&(n.Cb(7),n.lc("ngModel",e.filter),n.Cb(4),n.lc("ngModel",e.selectedType),n.Cb(2),n.lc("ngForOf",e.classificationtypelist),n.Cb(11),n.lc("ngIf",e.isLoading),n.Cb(1),n.lc("classifications",e.classifications))},directives:[y.c,y.f,S.b,p.c,p.m,p.p,I.a,$.m,a.k,T.a,a.l,et,v.b],styles:["#listtypes[_ngcontent-%COMP%]{width:250px}mat-icon[_ngcontent-%COMP%]{cursor:pointer}.orange-icon[_ngcontent-%COMP%]{color:orange}.white-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:orange}.mat-table[_ngcontent-%COMP%]{width:100%}"]}),t})();class ct{}var nt=i("IheW"),lt=i("XNiG"),ot=i("AytR");let rt=(()=>{class t{constructor(t){this.http=t,this.autofilltoadd=new lt.a,this.apiUrl=ot.a.apiurl}getClassificationAutoFill(){return this.http.get(`${this.apiUrl}/classificationautofill`)}addClassificationAutoFill(t){const e=JSON.stringify(t),i=(new nt.c).set("Content-Type","application/json");return this.http.post(`${this.apiUrl}/classificationautofill`,e,{headers:i})}deleteClassificationAutoFill(t){return this.http.delete(`${this.apiUrl}/classificationautofill/${t}`)}updateClassificationAutoFill(t,e){const i=JSON.stringify(e),a=(new nt.c).set("Content-Type","application/json");return this.http.put(`${this.apiUrl}/classificationautofill/${t}`,i,{headers:a})}}return t.\u0275fac=function(e){return new(e||t)(n.Xb(nt.a))},t.\u0275prov=n.Jb({token:t,factory:t.\u0275fac}),t})();function dt(t,e){1&t&&(n.Tb(0,"th",8),n.Ac(1," leader "),n.Sb())}function ft(t,e){if(1&t&&(n.Tb(0,"td",9),n.Ac(1),n.Sb()),2&t){const t=e.$implicit;n.Cb(1),n.Cc(" ",t.leader," ")}}function ht(t,e){1&t&&(n.Tb(0,"th",8),n.Ac(1," dependent "),n.Sb())}function bt(t,e){if(1&t&&(n.Tb(0,"td",9),n.Ac(1),n.Sb()),2&t){const t=e.$implicit;n.Cb(1),n.Cc(" ",t.dependent," ")}}function pt(t,e){1&t&&n.Ob(0,"tr",10)}function ut(t,e){1&t&&n.Ob(0,"tr",11)}const gt=function(){return[5,10,25,100]};let mt=(()=>{class t{constructor(){this.displayedColumns=["leader","dependent"]}ngOnChanges(t){this.dataSource=new b.l(this.filtredautofill),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}ngOnInit(){this.dataSource=new b.l(this.filtredautofill),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Hb({type:t,selectors:[["app-autofilllist-child"]],viewQuery:function(t,e){if(1&t&&(n.Dc(h.a,3),n.Dc(f.a,3)),2&t){let t;n.qc(t=n.cc())&&(e.sort=t.first),n.qc(t=n.cc())&&(e.paginator=t.first)}},inputs:{filtredautofill:"filtredautofill"},features:[n.Ab],decls:10,vars:7,consts:[["mat-table","","matSort","",3,"dataSource"],["matColumnDef","leader"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","dependent"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize","pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(n.Tb(0,"table",0),n.Rb(1,1),n.zc(2,dt,2,0,"th",2),n.zc(3,ft,2,1,"td",3),n.Qb(),n.Rb(4,4),n.zc(5,ht,2,0,"th",2),n.zc(6,bt,2,1,"td",3),n.Qb(),n.zc(7,pt,1,0,"tr",5),n.zc(8,ut,1,0,"tr",6),n.Sb(),n.Ob(9,"mat-paginator",7)),2&t&&(n.lc("dataSource",e.dataSource),n.Cb(7),n.lc("matHeaderRowDef",e.displayedColumns),n.Cb(1),n.lc("matRowDefColumns",e.displayedColumns),n.Cb(1),n.lc("length",100)("pageSize",5)("pageSizeOptions",n.nc(6,gt)))},directives:[b.k,h.a,b.c,b.e,b.b,b.g,b.j,f.a,b.d,h.b,b.a,b.f,b.i],styles:[".mat-table[_ngcontent-%COMP%]{width:100%}"]}),t})();function Ct(t,e){if(1&t&&(n.Tb(0,"mat-option",13),n.Ac(1),n.Sb()),2&t){const t=e.$implicit;n.lc("value",t.id),n.Cb(1),n.Cc(" ",t.designation," ")}}function yt(t,e){if(1&t&&(n.Tb(0,"mat-option",13),n.Ac(1),n.Sb()),2&t){const t=e.$implicit;n.lc("value",t),n.Cb(1),n.Cc(" ",t.designation," ")}}function St(t,e){if(1&t&&(n.Tb(0,"mat-option",13),n.Ac(1),n.Sb()),2&t){const t=e.$implicit;n.lc("value",t),n.Cb(1),n.Cc(" ",t.designation," ")}}function Tt(t,e){if(1&t&&(n.Tb(0,"mat-option",13),n.Ac(1),n.Sb()),2&t){const t=e.$implicit;n.lc("value",t),n.Cb(1),n.Cc(" ",t.designation," ")}}let wt=(()=>{class t{constructor(t,e,i,a){this.servicetype=t,this.service=e,this.serviceautofill=i,this.dialogRef=a,this.classificationsautofill=[],this.filtredautofill=[]}ngOnInit(){this.servicetype.getClassificationtype().subscribe(t=>{this.classificationtypes=t},t=>{alert("error on getting classification type"),console.error(t)}),this.service.getClassification().subscribe(t=>{this.classifications=t,this.leaderlist=t,this.dependentlist=t},t=>{alert("error on getting classification type"),console.error(t)}),this.AddAutoFillForm=new p.g({selectedleader:new p.e("",{validators:[p.t.required]}),selecteddependant:new p.e("",{validators:[p.t.required]}),selectedtypeleader:new p.e(""),selectedtypedependent:new p.e("")})}AddAutoFill(t){let e=new ct;e.idDependentClassification=this.selecteddependant.id,e.idLeaderClassification=this.selectedleader.id,this.serviceautofill.autofilltoadd.next(e)}closepopup(){this.dialogRef.closeAll()}LeaderChanged(t){this.filtredautofill=this.classificationsautofill.filter(t=>t.idLeaderClassification==this.selectedleader.id)}DependentTypeChanged(t){this.dependentlist=t&&t.value?this.classifications.filter(e=>e.classificationTypeDto.id===t.value.id):this.classifications}LeaderTypeChanged(t){this.leaderlist=t&&t.value?this.classifications.filter(e=>e.classificationTypeDto.id===t.value):this.classifications}}return t.\u0275fac=function(e){return new(e||t)(n.Nb(l.a),n.Nb(N.a),n.Nb(rt),n.Nb(u.b))},t.\u0275cmp=n.Hb({type:t,selectors:[["app-classificationautofill-add"]],decls:32,vars:12,consts:[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane"],[1,"training"],["fxLayoutGap","50px",3,"formGroup","ngSubmit"],["f","ngForm"],["placeholder","Leader Type","name","selectedtypeleader","formControlName","selectedtypeleader",3,"ngModel","ngModelChange","selectionChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],["placeholder","Leader","name","selectedleader","formControlName","selectedleader",3,"ngModel","ngModelChange","selectionChange"],["placeholder","Dependent Type","name","selectedtypedependent","formControlName","selectedtypedependent",3,"ngModel","ngModelChange","selectionChange"],["placeholder","Dependent","name","selecteddependant","formControlName","selecteddependant",3,"ngModel","ngModelChange"],["color","primary","title","Save",3,"disabled"],["title","Cancel","color","warn",3,"click"],[3,"filtredautofill"],[3,"value"]],template:function(t,e){if(1&t){const t=n.Ub();n.Tb(0,"div",0),n.Tb(1,"mat-card"),n.Tb(2,"div"),n.Tb(3,"h3"),n.Ac(4),n.Sb(),n.Tb(5,"section",1),n.Tb(6,"form",2,3),n.bc("ngSubmit",function(){n.tc(t);const i=n.rc(7);return e.AddAutoFill(i)}),n.Tb(8,"mat-form-field"),n.Tb(9,"mat-select",4),n.bc("ngModelChange",function(t){return e.selectedtypeleader=t})("selectionChange",function(t){return e.LeaderTypeChanged(t)}),n.Ob(10,"mat-option",5),n.zc(11,Ct,2,2,"mat-option",6),n.Sb(),n.Sb(),n.Tb(12,"mat-form-field"),n.Tb(13,"mat-select",7),n.bc("ngModelChange",function(t){return e.selectedleader=t})("selectionChange",function(t){return e.LeaderChanged(t)}),n.Ob(14,"mat-option",5),n.zc(15,yt,2,2,"mat-option",6),n.Sb(),n.Sb(),n.Tb(16,"mat-form-field"),n.Tb(17,"mat-select",8),n.bc("ngModelChange",function(t){return e.selectedtypedependent=t})("selectionChange",function(t){return e.DependentTypeChanged(t)}),n.Ob(18,"mat-option",5),n.zc(19,St,2,2,"mat-option",6),n.Sb(),n.Sb(),n.Tb(20,"mat-form-field"),n.Tb(21,"mat-select",9),n.bc("ngModelChange",function(t){return e.selecteddependant=t}),n.Ob(22,"mat-option",5),n.zc(23,Tt,2,2,"mat-option",6),n.Sb(),n.Sb(),n.Ob(24,"br"),n.Tb(25,"button",10),n.Tb(26,"mat-icon"),n.Ac(27,"save"),n.Sb(),n.Sb(),n.Tb(28,"mat-icon",11),n.bc("click",function(){return e.closepopup()}),n.Ac(29,"close"),n.Sb(),n.Sb(),n.Sb(),n.Sb(),n.Ob(30,"hr"),n.Ob(31,"app-autofilllist-child",12),n.Sb(),n.Sb()}if(2&t){const t=n.rc(7);n.Cb(4),n.Bc(e.title),n.Cb(2),n.lc("formGroup",e.AddAutoFillForm),n.Cb(3),n.lc("ngModel",e.selectedtypeleader),n.Cb(2),n.lc("ngForOf",e.classificationtypes),n.Cb(2),n.lc("ngModel",e.selectedleader),n.Cb(2),n.lc("ngForOf",e.leaderlist),n.Cb(2),n.lc("ngModel",e.selectedtypedependent),n.Cb(2),n.lc("ngForOf",e.classificationtypes),n.Cb(2),n.lc("ngModel",e.selecteddependant),n.Cb(2),n.lc("ngForOf",e.dependentlist),n.Cb(2),n.lc("disabled",t.invalid),n.Cb(6),n.lc("filtredautofill",e.filtredautofill)}},directives:[m.a,o.a,p.u,p.n,C.a,p.h,y.c,I.a,p.m,p.f,$.m,a.k,T.a,mt],styles:[".mat-table[_ngcontent-%COMP%]{width:100%}mat-icon[_ngcontent-%COMP%]{cursor:pointer}"]}),t})();var vt=i("tqRt");const At=Object(vt.c)("[Classification] Toggle Label"),kt=Object(vt.c)("[Classification] Get Autofill",Object(vt.h)()),Dt=Object(vt.c)("[Classification] Get Autofillselected",Object(vt.h)()),Ot=Object(vt.c)("[Classification] Initialize Autofillselected"),Rt=Object(vt.d)("classification"),Mt=Object(vt.f)(Rt,t=>t.showLabel),zt=Object(vt.f)(Rt,t=>t.classificationautofill),xt=Object(vt.f)(Rt,t=>t.selectedclassificationautofill),Ft=Object(vt.e)({showLabel:!0,classificationautofill:[],selectedclassificationautofill:[]},Object(vt.g)(At,t=>Object.assign(Object.assign({},t),{showLabel:!t.showLabel})),Object(vt.g)(Dt,(t,e)=>Object.assign(Object.assign({},t),{selectedclassificationautofill:e.classificationautofill})),Object(vt.g)(kt,(t,e)=>Object.assign(Object.assign({},t),{classificationautofill:e.classificationautofill})),Object(vt.g)(Ot,t=>Object.assign(Object.assign({},t),{selectedclassificationautofill:[]})));function Lt(t,e){1&t&&n.Ob(0,"mat-spinner",22)}function _t(t,e){if(1&t){const t=n.Ub();n.Tb(0,"th",23),n.Tb(1,"mat-checkbox",24),n.bc("change",function(e){n.tc(t);const i=n.fc();return e?i.masterToggle():null}),n.Sb(),n.Sb()}if(2&t){const t=n.fc();n.Cb(1),n.lc("checked",t.selection.hasValue()&&t.isAllSelected())("indeterminate",t.selection.hasValue()&&!t.isAllSelected())("aria-label",t.checkboxLabel())}}function Pt(t,e){if(1&t){const t=n.Ub();n.Tb(0,"td",25),n.Tb(1,"mat-checkbox",26),n.bc("click",function(t){return t.stopPropagation()})("change",function(i){n.tc(t);const a=e.$implicit,s=n.fc();return i?s.selection.toggle(a):null}),n.Sb(),n.Sb()}if(2&t){const t=e.$implicit,i=n.fc();n.Cb(1),n.lc("checked",i.selection.isSelected(t))("aria-label",i.checkboxLabel(t))}}function Nt(t,e){1&t&&(n.Tb(0,"th",27),n.Ac(1," leader "),n.Sb())}function It(t,e){if(1&t&&(n.Tb(0,"td",25),n.Ac(1),n.Sb()),2&t){const t=e.$implicit;n.Cb(1),n.Cc(" ",t.leader," ")}}function $t(t,e){1&t&&(n.Tb(0,"th",27),n.Ac(1," leader type "),n.Sb())}function jt(t,e){if(1&t&&(n.Tb(0,"td",25),n.Ac(1),n.Sb()),2&t){const t=e.$implicit;n.Cb(1),n.Cc(" ",t.leaderType," ")}}function Ht(t,e){1&t&&(n.Tb(0,"th",27),n.Ac(1," dependent "),n.Sb())}function Ut(t,e){if(1&t&&(n.Tb(0,"td",25),n.Ac(1),n.Sb()),2&t){const t=e.$implicit;n.Cb(1),n.Cc(" ",t.dependent," ")}}function Gt(t,e){1&t&&(n.Tb(0,"th",27),n.Ac(1," dependent type "),n.Sb())}function Qt(t,e){if(1&t&&(n.Tb(0,"td",25),n.Ac(1),n.Sb()),2&t){const t=e.$implicit;n.Cb(1),n.Cc(" ",t.dependentType," ")}}function qt(t,e){1&t&&n.Ob(0,"tr",28)}function Vt(t,e){1&t&&n.Ob(0,"tr",29)}function Et(t,e){if(1&t&&(n.Tb(0,"tr",30),n.Tb(1,"td",31),n.Ac(2),n.Sb(),n.Sb()),2&t){n.fc();const t=n.rc(7);n.Cb(2),n.Cc('No data matching the filter "',t.value,'"')}}const Jt=function(){return[5,10,25,100]};let Bt=(()=>{class t{constructor(t,e,i,a){this.store=t,this.service=e,this.dialog=i,this.snackbar=a,this.classificationsautofill=[],this.displayedColumns=["select","leader","leaderType","dependent","dependentType"],this.selection=new d.c(!0,[]),this.checkbox=!1,this.manyselection=!1,this.onlyoneselection=!1,this.selectedclassificationautofill=new ct}ngOnInit(){this.service.getClassificationAutoFill().subscribe(t=>{this.classificationsautofill=t,this.dataSource=new b.l(t),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.store.dispatch(kt({classificationautofill:t}))},()=>{alert("error when trying to get classification autofill, please retry later !")}),this.service.autofilltoadd.subscribe(t=>this.AddAutoFill(t)),this.store.select(Mt).subscribe(t=>{this.checkedngrx=t}),this.store.select(xt).subscribe(t=>{this._selectedlist=t}),this.store.select(zt).subscribe(t=>{this.dataSource=new b.l(t),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}checkedChange(){this.store.dispatch(At())}AddAutoFill(t){this.service.addClassificationAutoFill(t).subscribe(()=>{this.snackbar.open("Classification Auto Fill was added","",{duration:1500}),this.RefreshListFromStore(),this.dialogRef.close()},t=>{alert("error when add autofill"),console.error(t)})}RefreshListFromStore(){this.service.getClassificationAutoFill().subscribe(t=>{this.store.dispatch(kt({classificationautofill:t})),this.dataSource=new b.l(t),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort},t=>{console.error(t),alert("error on getting autofill")})}ngAfterViewInit(){}isAllSelected(){return this.selection.selected.length===(this.dataSource&&this.dataSource.data?this.dataSource.data.length:0)}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource.data.forEach(t=>this.selection.select(t))}checkboxLabel(t){return t?(this.store.dispatch(Dt({classificationautofill:this.selection.selected})),`${this.selection.isSelected(t)?"deselect":"select"} row ${t.id+1}`):(this.isAllSelected()?"select":"deselect")+" all"}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase()}DisplayAddAutoFill(){this.dialogRef=this.dialog.open(wt,{width:"700px",height:"500px",disableClose:!0,data:{}}),this.dialogRef.componentInstance.classificationsautofill=this.classificationsautofill}DisplayUpdate(){this.dialogRef=this.dialog.open(wt,{width:"700px",height:"500px",disableClose:!0,data:{}}),this.dialogRef.componentInstance.classificationsautofill=this.classificationsautofill}Delete(t,e){this.dataSource=new b.l,this.service.deleteClassificationAutoFill(e).subscribe(()=>{alert(t+" item(s) deleted "),this.store.select(zt).subscribe(t=>{this.dataSource=new b.l(t),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.RefreshListFromStore(),this.selection.clear()})},()=>{alert("an error happened when delete !"),this.dataSource=new b.l(this.classificationsautofill),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.selection.clear()})}DeleteClassificationAutoFill(){if(this._selectedlist&&this._selectedlist[0]){let t=this.selection.selected.length;if(confirm("you have selected "+t+" item(s), are sure you want to delete ?")){let e="";for(let i=0;i<t;i++)e+=this.selection.selected[i].id.toString()+",";this.Delete(t,e)}}else alert("please select at least one item")}}return t.\u0275fac=function(e){return new(e||t)(n.Nb(vt.a),n.Nb(rt),n.Nb(u.b),n.Nb(g.a))},t.\u0275cmp=n.Hb({type:t,selectors:[["app-classificationautofill-list"]],viewQuery:function(t,e){if(1&t&&(n.Dc(h.a,3),n.Dc(f.a,3)),2&t){let t;n.qc(t=n.cc())&&(e.sort=t.first),n.qc(t=n.cc())&&(e.paginator=t.first)}},decls:40,vars:9,consts:[[1,"mat-elevation-z8"],[1,"example-button-row"],["matInput","","placeholder","Filter",3,"keyup"],["input",""],["color","primary","title","Add Classification AutoFill",3,"click"],["title","Update Classification Type",1,"orange-icon",3,"click"],["color","warn","title","Delete Classification AutoFill",3,"click"],["style","margin:0 auto;",4,"ngIf"],[1,"example-container","mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","leader"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","leaderType"],["matColumnDef","dependent"],["matColumnDef","dependentType"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],[3,"length","pageSize","pageSizeOptions"],[2,"margin","0 auto"],["mat-header-cell",""],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"checked","aria-label","click","change"],["mat-header-cell","","mat-sort-header",""],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,e){1&t&&(n.Tb(0,"div",0),n.Tb(1,"div",1),n.Ac(2," \xa0\xa0\xa0 "),n.Tb(3,"mat-form-field"),n.Tb(4,"mat-label"),n.Ac(5,"Filter"),n.Sb(),n.Tb(6,"input",2,3),n.bc("keyup",function(t){return e.applyFilter(t)}),n.Sb(),n.Sb(),n.Ac(8," \xa0\xa0\xa0\xa0\xa0 "),n.Tb(9,"mat-icon",4),n.bc("click",function(){return e.DisplayAddAutoFill()}),n.Ac(10,"add_circle"),n.Sb(),n.Ac(11," \xa0\xa0\xa0 "),n.Tb(12,"mat-icon",5),n.bc("click",function(){return e.DisplayUpdate()}),n.Ac(13,"create"),n.Sb(),n.Ac(14," \xa0\xa0\xa0 "),n.Tb(15,"mat-icon",6),n.bc("click",function(){return e.DeleteClassificationAutoFill()}),n.Ac(16,"delete"),n.Sb(),n.Sb(),n.Tb(17,"div"),n.zc(18,Lt,1,0,"mat-spinner",7),n.Sb(),n.Tb(19,"div",8),n.Tb(20,"table",9),n.Rb(21,10),n.zc(22,_t,2,3,"th",11),n.zc(23,Pt,2,2,"td",12),n.Qb(),n.Rb(24,13),n.zc(25,Nt,2,0,"th",14),n.zc(26,It,2,1,"td",12),n.Qb(),n.Rb(27,15),n.zc(28,$t,2,0,"th",14),n.zc(29,jt,2,1,"td",12),n.Qb(),n.Rb(30,16),n.zc(31,Ht,2,0,"th",14),n.zc(32,Ut,2,1,"td",12),n.Qb(),n.Rb(33,17),n.zc(34,Gt,2,0,"th",14),n.zc(35,Qt,2,1,"td",12),n.Qb(),n.zc(36,qt,1,0,"tr",18),n.zc(37,Vt,1,0,"tr",19),n.zc(38,Et,3,1,"tr",20),n.Sb(),n.Ob(39,"mat-paginator",21),n.Sb(),n.Sb()),2&t&&(n.Cb(18),n.lc("ngIf",e.isLoading),n.Cb(2),n.lc("dataSource",e.dataSource),n.Cb(16),n.lc("matHeaderRowDef",e.displayedColumns)("matHeaderRowDefSticky",!0),n.Cb(1),n.lc("matRowDefColumns",e.displayedColumns),n.Cb(2),n.lc("length",100)("pageSize",25)("pageSizeOptions",n.nc(8,Jt)))},directives:[y.c,y.f,S.b,T.a,a.l,b.k,h.a,b.c,b.e,b.b,b.g,b.j,b.h,f.a,v.b,b.d,A.a,b.a,h.b,b.f,b.i],styles:["mat-icon[_ngcontent-%COMP%]{cursor:pointer}.orange-icon[_ngcontent-%COMP%]{color:orange}.white-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:orange}.mat-table[_ngcontent-%COMP%]{width:100%}.mat-table-sticky-border-elem-right[_ngcontent-%COMP%]{border-left:1px solid #e0e0e0}.mat-table-sticky-border-elem-left[_ngcontent-%COMP%]{border-right:1px solid #e0e0e0}.example-container[_ngcontent-%COMP%]{height:400px;overflow:auto}"]}),t})();const Wt=[{path:"",component:(()=>{class t{constructor(t){this.service=t}ngOnInit(){}ClassificationClicked(){let t=new c;this.service.refreshGrid.next(t)}}return t.\u0275fac=function(e){return new(e||t)(n.Nb(l.a))},t.\u0275cmp=n.Hb({type:t,selectors:[["app-classification-root"]],decls:8,vars:0,consts:[["label","Classification type"],["label","Classification",3,"click"],["label","Autofill"]],template:function(t,e){1&t&&(n.Tb(0,"mat-card"),n.Tb(1,"mat-tab-group"),n.Tb(2,"mat-tab",0),n.Ob(3,"app-classificationtype-list"),n.Sb(),n.Tb(4,"mat-tab",1),n.bc("click",function(){return e.ClassificationClicked()}),n.Ob(5,"app-classification-list"),n.Sb(),n.Tb(6,"mat-tab",2),n.Ob(7,"app-classificationautofill-list"),n.Sb(),n.Sb(),n.Sb())},directives:[o.a,r.b,r.a,_,st,Bt],styles:["mat-tab-label[_ngcontent-%COMP%]{color:red}.mat-card[_ngcontent-%COMP%]{width:100%}"]}),t})()}];let Zt=(()=>{class t{}return t.\u0275mod=n.Lb({type:t}),t.\u0275inj=n.Kb({factory:function(e){return new(e||t)},imports:[[s.d.forChild(Wt)],s.d]}),t})();var Kt=i("jAig");let Xt=(()=>{class t{}return t.\u0275mod=n.Lb({type:t}),t.\u0275inj=n.Kb({factory:function(e){return new(e||t)},providers:[l.a,N.a,rt],imports:[[a.c,Zt,nt.b,Kt.a,p.r,p.i,vt.b.forFeature("classification",Ft)]]}),t})()}}]);